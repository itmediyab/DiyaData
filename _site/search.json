[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Fundamentals of Statistics and Exploratory Data Analysis",
    "section": "",
    "text": "Fertility Dataset\n\n\n\n\n\n\nFertility\n\n\n\n\n\n\n\n\n\nSep 28, 2025\n\n\nDiya Bijoy, Swetha KV, Abhinav, Aanya Pandith\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/A1/A1.html",
    "href": "posts/A1/A1.html",
    "title": "Fertility Dataset",
    "section": "",
    "text": "library(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   4.0.0     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.4     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(janitor)\n\n\nAttaching package: 'janitor'\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n\nlibrary(dplyr)\nlibrary(naniar)\nlibrary(skimr)\n\n\nAttaching package: 'skimr'\n\nThe following object is masked from 'package:naniar':\n\n    n_complete\n\nlibrary(crosstable)\n\n\nAttaching package: 'crosstable'\n\nThe following object is masked from 'package:purrr':\n\n    compact\n\nlibrary(tinytable)\n\n\nAttaching package: 'tinytable'\n\nThe following object is masked from 'package:ggplot2':\n\n    theme_void\n\nlibrary(ggformula)\n\nLoading required package: scales\n\nAttaching package: 'scales'\n\nThe following object is masked from 'package:purrr':\n\n    discard\n\nThe following object is masked from 'package:readr':\n\n    col_factor\n\nLoading required package: ggridges\n\nNew to ggformula?  Try the tutorials: \n    learnr::run_tutorial(\"introduction\", package = \"ggformula\")\n    learnr::run_tutorial(\"refining\", package = \"ggformula\")\n\nlibrary(mosaic)\n\nRegistered S3 method overwritten by 'mosaic':\n  method                           from   \n  fortify.SpatialPolygonsDataFrame ggplot2\n\nThe 'mosaic' package masks several functions from core packages in order to add \nadditional features.  The original behavior of these functions should not be affected by this.\n\nAttaching package: 'mosaic'\n\nThe following object is masked from 'package:Matrix':\n\n    mean\n\nThe following object is masked from 'package:scales':\n\n    rescale\n\nThe following object is masked from 'package:skimr':\n\n    n_missing\n\nThe following objects are masked from 'package:dplyr':\n\n    count, do, tally\n\nThe following object is masked from 'package:purrr':\n\n    cross\n\nThe following object is masked from 'package:ggplot2':\n\n    stat\n\nThe following objects are masked from 'package:stats':\n\n    binom.test, cor, cor.test, cov, fivenum, IQR, median, prop.test,\n    quantile, sd, t.test, var\n\nThe following objects are masked from 'package:base':\n\n    max, mean, min, prod, range, sample, sum\n\n\n\n\n\n\nFertility &lt;- readr::read_csv(\"Fertility.csv\") %&gt;% \njanitor::clean_names(case=\"snake\")\n\nRows: 254654 Columns: 9\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (6): morekids, gender1, gender2, afam, hispanic, other\ndbl (3): rownames, age, work\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nFertility\n\n# A tibble: 254,654 × 9\n   rownames morekids gender1 gender2   age afam  hispanic other  work\n      &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;   &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt; &lt;dbl&gt;\n 1        1 no       male    female     27 no    no       no        0\n 2        2 no       female  male       30 no    no       no       30\n 3        3 no       male    female     27 no    no       no        0\n 4        4 no       male    female     35 yes   no       no        0\n 5        5 no       female  female     30 no    no       no       22\n 6        6 no       male    female     26 no    no       no       40\n 7        7 no       female  male       29 no    no       no        0\n 8        8 no       male    male       33 no    no       no       52\n 9        9 no       female  male       29 no    no       no        0\n10       10 no       male    female     27 no    no       no        0\n# ℹ 254,644 more rows\n\n\n\n\n\n\nbase::names(Fertility)\n\n[1] \"rownames\" \"morekids\" \"gender1\"  \"gender2\"  \"age\"      \"afam\"     \"hispanic\"\n[8] \"other\"    \"work\"    \n\n\n\ndplyr::glimpse(Fertility)\n\nRows: 254,654\nColumns: 9\n$ rownames &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18…\n$ morekids &lt;chr&gt; \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"…\n$ gender1  &lt;chr&gt; \"male\", \"female\", \"male\", \"male\", \"female\", \"male\", \"female\",…\n$ gender2  &lt;chr&gt; \"female\", \"male\", \"female\", \"female\", \"female\", \"female\", \"ma…\n$ age      &lt;dbl&gt; 27, 30, 27, 35, 30, 26, 29, 33, 29, 27, 28, 28, 35, 34, 32, 2…\n$ afam     &lt;chr&gt; \"no\", \"no\", \"no\", \"yes\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", …\n$ hispanic &lt;chr&gt; \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"…\n$ other    &lt;chr&gt; \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"…\n$ work     &lt;dbl&gt; 0, 30, 0, 0, 22, 40, 0, 52, 0, 0, 0, 52, 52, 52, 8, 7, 0, 40,…\n\n\n\nbase::dim(Fertility)\n\n[1] 254654      9\n\n\n\nutils::str(Fertility)\n\nspc_tbl_ [254,654 × 9] (S3: spec_tbl_df/tbl_df/tbl/data.frame)\n $ rownames: num [1:254654] 1 2 3 4 5 6 7 8 9 10 ...\n $ morekids: chr [1:254654] \"no\" \"no\" \"no\" \"no\" ...\n $ gender1 : chr [1:254654] \"male\" \"female\" \"male\" \"male\" ...\n $ gender2 : chr [1:254654] \"female\" \"male\" \"female\" \"female\" ...\n $ age     : num [1:254654] 27 30 27 35 30 26 29 33 29 27 ...\n $ afam    : chr [1:254654] \"no\" \"no\" \"no\" \"yes\" ...\n $ hispanic: chr [1:254654] \"no\" \"no\" \"no\" \"no\" ...\n $ other   : chr [1:254654] \"no\" \"no\" \"no\" \"no\" ...\n $ work    : num [1:254654] 0 30 0 0 22 40 0 52 0 0 ...\n - attr(*, \"spec\")=\n  .. cols(\n  ..   rownames = col_double(),\n  ..   morekids = col_character(),\n  ..   gender1 = col_character(),\n  ..   gender2 = col_character(),\n  ..   age = col_double(),\n  ..   afam = col_character(),\n  ..   hispanic = col_character(),\n  ..   other = col_character(),\n  ..   work = col_double()\n  .. )\n - attr(*, \"problems\")=&lt;externalptr&gt; \n\n\n\n\n\nViewing missing data was not working for the whole data set, so we used slice sample of 100000. The data set did not have any missing data.\n\nFertility_sample &lt;- Fertility %&gt;% dplyr::slice_sample(n = 100000) \nvisdat::vis_dat(Fertility_sample)\n\n\n\n\n\n\n\n\n\nvisdat::vis_miss(Fertility_sample)\n\n\n\n\n\n\n\n\n\n\n\nWe created a new column for ethnicity since the data set did not directly indicate whether a person was Caucasian. Based on the data dictionary, all “no” responses were Caucasian. To make the data easier to understand, we added a column to clearly show the ethnicity of a person.\n\nFertility %&gt;% filter(afam == \"no\", hispanic == \"no\", other == \"no\")\n\n# A tibble: 216,033 × 9\n   rownames morekids gender1 gender2   age afam  hispanic other  work\n      &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;   &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt; &lt;dbl&gt;\n 1        1 no       male    female     27 no    no       no        0\n 2        2 no       female  male       30 no    no       no       30\n 3        3 no       male    female     27 no    no       no        0\n 4        5 no       female  female     30 no    no       no       22\n 5        6 no       male    female     26 no    no       no       40\n 6        7 no       female  male       29 no    no       no        0\n 7        8 no       male    male       33 no    no       no       52\n 8        9 no       female  male       29 no    no       no        0\n 9       10 no       male    female     27 no    no       no        0\n10       11 yes      male    male       28 no    no       no        0\n# ℹ 216,023 more rows\n\n\n\nFertility_ethnicity &lt;- Fertility %&gt;%\n  mutate(ethnicity = case_when(\n    afam == \"yes\" ~ \"African-American\",\n    hispanic == \"yes\" ~ \"Hispanic\",\n    other == \"yes\" ~ \"Other\",\n    afam == \"no\" & hispanic == \"no\" & other == \"no\" ~ \"Caucasian\"\n  ))\n\nFertility_ethnicity\n\n# A tibble: 254,654 × 10\n   rownames morekids gender1 gender2   age afam  hispanic other  work ethnicity \n      &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;   &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;     \n 1        1 no       male    female     27 no    no       no        0 Caucasian \n 2        2 no       female  male       30 no    no       no       30 Caucasian \n 3        3 no       male    female     27 no    no       no        0 Caucasian \n 4        4 no       male    female     35 yes   no       no        0 African-A…\n 5        5 no       female  female     30 no    no       no       22 Caucasian \n 6        6 no       male    female     26 no    no       no       40 Caucasian \n 7        7 no       female  male       29 no    no       no        0 Caucasian \n 8        8 no       male    male       33 no    no       no       52 Caucasian \n 9        9 no       female  male       29 no    no       no        0 Caucasian \n10       10 no       male    female     27 no    no       no        0 Caucasian \n# ℹ 254,644 more rows\n\n\n\n\n\n\nFertility_ethnicity_factor &lt;- Fertility_ethnicity %&gt;%\n  mutate(across(where(is.character), as.factor)) %&gt;% \n  relocate(where(is.factor), .after = rownames)\nglimpse(Fertility_ethnicity_factor)\n\nRows: 254,654\nColumns: 10\n$ rownames  &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 1…\n$ morekids  &lt;fct&gt; no, no, no, no, no, no, no, no, no, no, yes, no, no, no, no,…\n$ gender1   &lt;fct&gt; male, female, male, male, female, male, female, male, female…\n$ gender2   &lt;fct&gt; female, male, female, female, female, female, male, male, ma…\n$ afam      &lt;fct&gt; no, no, no, yes, no, no, no, no, no, no, no, no, no, no, no,…\n$ hispanic  &lt;fct&gt; no, no, no, no, no, no, no, no, no, no, no, no, no, no, no, …\n$ other     &lt;fct&gt; no, no, no, no, no, no, no, no, no, no, no, no, no, no, no, …\n$ ethnicity &lt;fct&gt; Caucasian, Caucasian, Caucasian, African-American, Caucasian…\n$ age       &lt;dbl&gt; 27, 30, 27, 35, 30, 26, 29, 33, 29, 27, 28, 28, 35, 34, 32, …\n$ work      &lt;dbl&gt; 0, 30, 0, 0, 22, 40, 0, 52, 0, 0, 0, 52, 52, 52, 8, 7, 0, 40…\n\n\n\n\n\n\nFertility_ethnicity_factor\n\n# A tibble: 254,654 × 10\n   rownames morekids gender1 gender2 afam  hispanic other ethnicity    age  work\n      &lt;dbl&gt; &lt;fct&gt;    &lt;fct&gt;   &lt;fct&gt;   &lt;fct&gt; &lt;fct&gt;    &lt;fct&gt; &lt;fct&gt;      &lt;dbl&gt; &lt;dbl&gt;\n 1        1 no       male    female  no    no       no    Caucasian     27     0\n 2        2 no       female  male    no    no       no    Caucasian     30    30\n 3        3 no       male    female  no    no       no    Caucasian     27     0\n 4        4 no       male    female  yes   no       no    African-A…    35     0\n 5        5 no       female  female  no    no       no    Caucasian     30    22\n 6        6 no       male    female  no    no       no    Caucasian     26    40\n 7        7 no       female  male    no    no       no    Caucasian     29     0\n 8        8 no       male    male    no    no       no    Caucasian     33    52\n 9        9 no       female  male    no    no       no    Caucasian     29     0\n10       10 no       male    female  no    no       no    Caucasian     27     0\n# ℹ 254,644 more rows\n\n\n\n\n\n\n\n\nFertility_ethnicity_factor %&gt;%\n  dplyr::count(across(.cols = c (gender1 , gender2)))\n\n# A tibble: 4 × 3\n  gender1 gender2     n\n  &lt;fct&gt;   &lt;fct&gt;   &lt;int&gt;\n1 female  female  60946\n2 female  male    62724\n3 male    female  63185\n4 male    male    67799\n\n\n\nFertility_ethnicity_factor %&gt;% \n  group_by(morekids) %&gt;% \n  summarise(average_age=mean(age),count=n()) %&gt;% tt()\n\n\n\n    \n\n    \n    \n      \n        \n        \n              \n                morekids\n                average_age\n                count\n              \n        \n        \n        \n                \n                  no\n                  30.12810\n                  157742\n                \n                \n                  yes\n                  30.82487\n                  96912\n                \n        \n      \n    \n\n\n\n\ncrosstable(morekids ~ gender2 + gender1,\n  data = Fertility_ethnicity_factor\n) %&gt;%\n  crosstable::as_flextable()\n\ngender1femalemalegender2femalemalefemalemalemorekidsno35057 (22.22%)40987 (25.98%)41304 (26.18%)40394 (25.61%)yes25889 (26.71%)21737 (22.43%)21881 (22.58%)27405 (28.28%)\n\n\n\ncrosstable(ethnicity ~ morekids,\n  data = Fertility_ethnicity_factor\n) %&gt;%\n  crosstable::as_flextable()\n\nlabelvariablemorekidsnoyesethnicityAfrican-American7131 (54.20%)6025 (45.80%)Caucasian137344 (63.58%)78689 (36.42%)Hispanic9084 (48.57%)9617 (51.43%)Other4183 (61.84%)2581 (38.16%)\n\n\n\nFertility_ethnicity_factor %&gt;% \n  group_by(morekids) %&gt;% \n  summarize(average_workhours = mean(work)) %&gt;% tt()\n\n\n\n    \n\n    \n    \n      \n        \n        \n              \n                morekids\n                average_workhours\n              \n        \n        \n        \n                \n                  no\n                  21.06843\n                \n                \n                  yes\n                  15.68143\n                \n        \n      \n    \n\n\n\n\n\n\n\n\n\n\nHypothesis: Families with two daughters (female.female) could have more children.\n\n\n\n\nFertility_ethnicity_factor %&gt;%\n  gf_bar(~interaction(gender1,gender2),\n    fill = ~morekids,\n    position = \"dodge\"\n  ) %&gt;%\n  gf_labs(\n    title = \"Morekids vs Gender Composition\",\n    subtitle = \"How morekids is being effected based on current gender of kids\",\n    x=\"Gender of First Two Children\",\n    y=\"Count\"\n  ) %&gt;%\n  gf_refine(scale_fill_brewer(palette = \"Set1\"))\n\n\n\n\n\n\n\n\n\n\n\n\nFertility_ethnicity_factor %&gt;%\n  gf_bar(~interaction(gender1,gender2),\n    fill = ~morekids,\n    position = \"fill\"\n  ) %&gt;%\n  gf_labs(\n    title = \"Morekids vs Gender Composition\",\n    subtitle = \"How morekids is being effected based on current gender of kids\",\n    x=\"Gender of First Two Children\",\n    y=\"Count\"\n  ) %&gt;%\n  gf_refine(scale_fill_brewer(palette = \"Set1\"))\n\n\n\n\n\n\n\n\n\nInferences\n\nFamilies with two girls are most likely to have more children.\nFamilies with one boy and one girl are least likely to continue growing their family.\nFamilies with two boys also show a high chance of having more kids.\n\n\n\n\n\n\n\nHypothesis: Women who worked less number of weeks would have more kids.\n\n\n\n\ngf_histogram(~work,\n  data = Fertility_ethnicity_factor,\n  bins = 30,                \n  fill = ~morekids,         \n  position = \"dodge\"        \n) %&gt;%\n  gf_labs(\n    title = \"Distribution of Work Weeks by More Kids\",\n    subtitle = \"Number of Work Weeks in 1979 for Mothers with or without more kids\",\n    x = \"Work weeks in 1979\",\n    y = \"Count\",\n  ) %&gt;% \n  gf_refine(scale_fill_brewer(palette = \"Set1\"))\n\n\n\n\n\n\n\n\n\n\n\n\nFertility_ethnicity_factor %&gt;% \n  count(morekids, work) %&gt;% \n  gf_line(n ~ work, color = ~morekids, linewidth = 0.8) %&gt;%\n  gf_labs(\n    title = \"Distribution of Work Weeks by More Kids\",\n    subtitle = \"Number of Work Weeks in 1979 for Mothers with or without more kids\",\n    x = \"Work weeks in 1979\",\n    y = \"Count\"\n  ) %&gt;% \n  gf_refine(scale_fill_brewer(palette = \"Set1\"))\n\n\n\n\n\n\n\n\n\n\n\n\nFertility_ethnicity_factor %&gt;% \n  gf_boxplot(morekids ~ work, orientation = \"y\", fill=~morekids, color = \"black\") %&gt;%\n  gf_labs(y = \"More kids\", \n          x = \"Work weeks in 1979\", \n          title = \"Distribution of Work Weeks by More Kids\",\n          subtitle = \"Number of Work Weeks in 1979 for Mothers with or without more kids\")\n\n\n\n\n\n\n\n\n\nInferences\n\nMost individuals either worked a full year (52 weeks) or did not work at all (0 weeks)\nNot working mothers dominates - The largest group is those who worked 0 weeks.\nWorking full year (52 weeks) is the second largest group.\nMothers who worked between 2-50 weeks is a minority.\nThe difference between “more kids” and “no kids”:\n\nPeople with no kids lean more towards full-time work.\nPeople with kids lean more towards not working at all or working fewer weeks.\n\n\n\nOverall insight: The “no more kids” category is the largest overall especially among non working mothers. This shows most people in 1979 had only 2 kids.\n\n\n\n\n\nHypothesis: Older women would have more kids.\n\n\n\n\nFertility_ethnicity_factor %&gt;%\n  gf_density(~age, color = ~morekids, fill = ~morekids) %&gt;%\n  gf_labs(\n    title = \"Distribution of Age by More Kids\",\n    subtitle = \"Ages of Mothers with or without more kids\",\n    x = \"Age of Mothers\",\n    y = \"Density\",\n    color = \"More Kids\",\n    fill = \"More Kids\"\n  )\n\n\n\n\n\n\n\n\n\nFertility_ethnicity_factor %&gt;% \n  gf_boxplot(morekids ~ age, orientation = \"y\", fill=~morekids, color = \"black\") %&gt;%\n  gf_labs(y = \"Morekids\", x = \"Age of Mothers\", \n          title = \"Distribution of Age by More Kids\",\n          subtitle = \"Ages of Mothers with or without more kids\")\n\n\n\n\n\n\n\n\n\nInferences\n\nThe possibility of having more kids increases with age as seen as in the density distribution graph.\nThe age of people who have more kids (median 31) is only slightly higher than the age of people who do not have more kids (median 30)\nThe group that responded “no” (they do not want more kids) has a slightly wider Interquartile Range.\n\n50% of mothers in the “no” category are more spread out in age from 28 to 32 years\n50% of people in the “yes” group are more clustered in age from 30 to 32 years\n\nOutliers: A few mothers who have more kids are younger than others (around age 22-23).\n\n\n\n\n\n\n\n\n\nFertility_ethnicity_factor %&gt;%\n  count(ethnicity, morekids) %&gt;%  \n  gf_col(n ~ ethnicity, fill = ~morekids, position = \"dodge\") %&gt;%  \n  gf_labs(\n    title = \"Ethnic Group Distribution by More Kids\",\n    subtitle = \"Count of Respondents who have More Children \",\n    x = \"Ethnic Group\",\n    y = \"Number of People\",\n    fill = \"More Kids\"\n  ) %&gt;%\n  gf_refine(scale_fill_brewer(palette = \"Set2\"))\n\n\n\n\n\n\n\n\n\n\n\n\nFertility_ethnicity_factor %&gt;%\n  count(ethnicity, morekids) %&gt;%  \n  gf_col(n ~ ethnicity, fill = ~morekids, position = \"fill\") %&gt;%  \n  gf_labs(\n    title = \"Ethnic Group Distribution by More Kids\",\n    subtitle = \"Count of Respondents who have More Children \",\n    x = \"Ethnic Group\",\n    y = \"Number of People\",\n    fill = \"More Kids\"\n  ) %&gt;%\n  gf_refine(scale_fill_brewer(palette = \"Set2\"))\n\n\n\n\n\n\n\n\n\nInferences\n\nThe Caucasian group is much larger than all other ethnic groups in the survey, as seen in the first graph.\nAfrican-Americans and Hispanics have the highest proportion of respondents who have more kids.\nThe Caucasian group and the Other group have a lower proportion of having more kids."
  },
  {
    "objectID": "posts/A1/A1.html#setting-up-r-packages",
    "href": "posts/A1/A1.html#setting-up-r-packages",
    "title": "Fertility Dataset",
    "section": "",
    "text": "library(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   4.0.0     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.4     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(janitor)\n\n\nAttaching package: 'janitor'\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n\nlibrary(dplyr)\nlibrary(naniar)\nlibrary(skimr)\n\n\nAttaching package: 'skimr'\n\nThe following object is masked from 'package:naniar':\n\n    n_complete\n\nlibrary(crosstable)\n\n\nAttaching package: 'crosstable'\n\nThe following object is masked from 'package:purrr':\n\n    compact\n\nlibrary(tinytable)\n\n\nAttaching package: 'tinytable'\n\nThe following object is masked from 'package:ggplot2':\n\n    theme_void\n\nlibrary(ggformula)\n\nLoading required package: scales\n\nAttaching package: 'scales'\n\nThe following object is masked from 'package:purrr':\n\n    discard\n\nThe following object is masked from 'package:readr':\n\n    col_factor\n\nLoading required package: ggridges\n\nNew to ggformula?  Try the tutorials: \n    learnr::run_tutorial(\"introduction\", package = \"ggformula\")\n    learnr::run_tutorial(\"refining\", package = \"ggformula\")\n\nlibrary(mosaic)\n\nRegistered S3 method overwritten by 'mosaic':\n  method                           from   \n  fortify.SpatialPolygonsDataFrame ggplot2\n\nThe 'mosaic' package masks several functions from core packages in order to add \nadditional features.  The original behavior of these functions should not be affected by this.\n\nAttaching package: 'mosaic'\n\nThe following object is masked from 'package:Matrix':\n\n    mean\n\nThe following object is masked from 'package:scales':\n\n    rescale\n\nThe following object is masked from 'package:skimr':\n\n    n_missing\n\nThe following objects are masked from 'package:dplyr':\n\n    count, do, tally\n\nThe following object is masked from 'package:purrr':\n\n    cross\n\nThe following object is masked from 'package:ggplot2':\n\n    stat\n\nThe following objects are masked from 'package:stats':\n\n    binom.test, cor, cor.test, cov, fivenum, IQR, median, prop.test,\n    quantile, sd, t.test, var\n\nThe following objects are masked from 'package:base':\n\n    max, mean, min, prod, range, sample, sum"
  },
  {
    "objectID": "posts/A1/A1.html#read-data",
    "href": "posts/A1/A1.html#read-data",
    "title": "Fertility Dataset",
    "section": "",
    "text": "Fertility &lt;- readr::read_csv(\"Fertility.csv\") %&gt;% \njanitor::clean_names(case=\"snake\")\n\nRows: 254654 Columns: 9\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (6): morekids, gender1, gender2, afam, hispanic, other\ndbl (3): rownames, age, work\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nFertility\n\n# A tibble: 254,654 × 9\n   rownames morekids gender1 gender2   age afam  hispanic other  work\n      &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;   &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt; &lt;dbl&gt;\n 1        1 no       male    female     27 no    no       no        0\n 2        2 no       female  male       30 no    no       no       30\n 3        3 no       male    female     27 no    no       no        0\n 4        4 no       male    female     35 yes   no       no        0\n 5        5 no       female  female     30 no    no       no       22\n 6        6 no       male    female     26 no    no       no       40\n 7        7 no       female  male       29 no    no       no        0\n 8        8 no       male    male       33 no    no       no       52\n 9        9 no       female  male       29 no    no       no        0\n10       10 no       male    female     27 no    no       no        0\n# ℹ 254,644 more rows"
  },
  {
    "objectID": "posts/A1/A1.html#examine-data",
    "href": "posts/A1/A1.html#examine-data",
    "title": "Fertility Dataset",
    "section": "",
    "text": "base::names(Fertility)\n\n[1] \"rownames\" \"morekids\" \"gender1\"  \"gender2\"  \"age\"      \"afam\"     \"hispanic\"\n[8] \"other\"    \"work\"    \n\n\n\ndplyr::glimpse(Fertility)\n\nRows: 254,654\nColumns: 9\n$ rownames &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18…\n$ morekids &lt;chr&gt; \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"…\n$ gender1  &lt;chr&gt; \"male\", \"female\", \"male\", \"male\", \"female\", \"male\", \"female\",…\n$ gender2  &lt;chr&gt; \"female\", \"male\", \"female\", \"female\", \"female\", \"female\", \"ma…\n$ age      &lt;dbl&gt; 27, 30, 27, 35, 30, 26, 29, 33, 29, 27, 28, 28, 35, 34, 32, 2…\n$ afam     &lt;chr&gt; \"no\", \"no\", \"no\", \"yes\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", …\n$ hispanic &lt;chr&gt; \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"…\n$ other    &lt;chr&gt; \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"…\n$ work     &lt;dbl&gt; 0, 30, 0, 0, 22, 40, 0, 52, 0, 0, 0, 52, 52, 52, 8, 7, 0, 40,…\n\n\n\nbase::dim(Fertility)\n\n[1] 254654      9\n\n\n\nutils::str(Fertility)\n\nspc_tbl_ [254,654 × 9] (S3: spec_tbl_df/tbl_df/tbl/data.frame)\n $ rownames: num [1:254654] 1 2 3 4 5 6 7 8 9 10 ...\n $ morekids: chr [1:254654] \"no\" \"no\" \"no\" \"no\" ...\n $ gender1 : chr [1:254654] \"male\" \"female\" \"male\" \"male\" ...\n $ gender2 : chr [1:254654] \"female\" \"male\" \"female\" \"female\" ...\n $ age     : num [1:254654] 27 30 27 35 30 26 29 33 29 27 ...\n $ afam    : chr [1:254654] \"no\" \"no\" \"no\" \"yes\" ...\n $ hispanic: chr [1:254654] \"no\" \"no\" \"no\" \"no\" ...\n $ other   : chr [1:254654] \"no\" \"no\" \"no\" \"no\" ...\n $ work    : num [1:254654] 0 30 0 0 22 40 0 52 0 0 ...\n - attr(*, \"spec\")=\n  .. cols(\n  ..   rownames = col_double(),\n  ..   morekids = col_character(),\n  ..   gender1 = col_character(),\n  ..   gender2 = col_character(),\n  ..   age = col_double(),\n  ..   afam = col_character(),\n  ..   hispanic = col_character(),\n  ..   other = col_character(),\n  ..   work = col_double()\n  .. )\n - attr(*, \"problems\")=&lt;externalptr&gt;"
  },
  {
    "objectID": "posts/A1/A1.html#viewing-missing-data",
    "href": "posts/A1/A1.html#viewing-missing-data",
    "title": "Fertility Dataset",
    "section": "",
    "text": "Viewing missing data was not working for the whole data set, so we used slice sample of 100000. The data set did not have any missing data.\n\nFertility_sample &lt;- Fertility %&gt;% dplyr::slice_sample(n = 100000) \nvisdat::vis_dat(Fertility_sample)\n\n\n\n\n\n\n\n\n\nvisdat::vis_miss(Fertility_sample)"
  },
  {
    "objectID": "posts/A1/A1.html#new-column-for-labeling-ethnicity",
    "href": "posts/A1/A1.html#new-column-for-labeling-ethnicity",
    "title": "Fertility Dataset",
    "section": "",
    "text": "We created a new column for ethnicity since the data set did not directly indicate whether a person was Caucasian. Based on the data dictionary, all “no” responses were Caucasian. To make the data easier to understand, we added a column to clearly show the ethnicity of a person.\n\nFertility %&gt;% filter(afam == \"no\", hispanic == \"no\", other == \"no\")\n\n# A tibble: 216,033 × 9\n   rownames morekids gender1 gender2   age afam  hispanic other  work\n      &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;   &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt; &lt;dbl&gt;\n 1        1 no       male    female     27 no    no       no        0\n 2        2 no       female  male       30 no    no       no       30\n 3        3 no       male    female     27 no    no       no        0\n 4        5 no       female  female     30 no    no       no       22\n 5        6 no       male    female     26 no    no       no       40\n 6        7 no       female  male       29 no    no       no        0\n 7        8 no       male    male       33 no    no       no       52\n 8        9 no       female  male       29 no    no       no        0\n 9       10 no       male    female     27 no    no       no        0\n10       11 yes      male    male       28 no    no       no        0\n# ℹ 216,023 more rows\n\n\n\nFertility_ethnicity &lt;- Fertility %&gt;%\n  mutate(ethnicity = case_when(\n    afam == \"yes\" ~ \"African-American\",\n    hispanic == \"yes\" ~ \"Hispanic\",\n    other == \"yes\" ~ \"Other\",\n    afam == \"no\" & hispanic == \"no\" & other == \"no\" ~ \"Caucasian\"\n  ))\n\nFertility_ethnicity\n\n# A tibble: 254,654 × 10\n   rownames morekids gender1 gender2   age afam  hispanic other  work ethnicity \n      &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;   &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;     \n 1        1 no       male    female     27 no    no       no        0 Caucasian \n 2        2 no       female  male       30 no    no       no       30 Caucasian \n 3        3 no       male    female     27 no    no       no        0 Caucasian \n 4        4 no       male    female     35 yes   no       no        0 African-A…\n 5        5 no       female  female     30 no    no       no       22 Caucasian \n 6        6 no       male    female     26 no    no       no       40 Caucasian \n 7        7 no       female  male       29 no    no       no        0 Caucasian \n 8        8 no       male    male       33 no    no       no       52 Caucasian \n 9        9 no       female  male       29 no    no       no        0 Caucasian \n10       10 no       male    female     27 no    no       no        0 Caucasian \n# ℹ 254,644 more rows"
  },
  {
    "objectID": "posts/A1/A1.html#converting-characters-to-factors",
    "href": "posts/A1/A1.html#converting-characters-to-factors",
    "title": "Fertility Dataset",
    "section": "",
    "text": "Fertility_ethnicity_factor &lt;- Fertility_ethnicity %&gt;%\n  mutate(across(where(is.character), as.factor)) %&gt;% \n  relocate(where(is.factor), .after = rownames)\nglimpse(Fertility_ethnicity_factor)\n\nRows: 254,654\nColumns: 10\n$ rownames  &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 1…\n$ morekids  &lt;fct&gt; no, no, no, no, no, no, no, no, no, no, yes, no, no, no, no,…\n$ gender1   &lt;fct&gt; male, female, male, male, female, male, female, male, female…\n$ gender2   &lt;fct&gt; female, male, female, female, female, female, male, male, ma…\n$ afam      &lt;fct&gt; no, no, no, yes, no, no, no, no, no, no, no, no, no, no, no,…\n$ hispanic  &lt;fct&gt; no, no, no, no, no, no, no, no, no, no, no, no, no, no, no, …\n$ other     &lt;fct&gt; no, no, no, no, no, no, no, no, no, no, no, no, no, no, no, …\n$ ethnicity &lt;fct&gt; Caucasian, Caucasian, Caucasian, African-American, Caucasian…\n$ age       &lt;dbl&gt; 27, 30, 27, 35, 30, 26, 29, 33, 29, 27, 28, 28, 35, 34, 32, …\n$ work      &lt;dbl&gt; 0, 30, 0, 0, 22, 40, 0, 52, 0, 0, 0, 52, 52, 52, 8, 7, 0, 40…"
  },
  {
    "objectID": "posts/A1/A1.html#cleaned-table",
    "href": "posts/A1/A1.html#cleaned-table",
    "title": "Fertility Dataset",
    "section": "",
    "text": "Fertility_ethnicity_factor\n\n# A tibble: 254,654 × 10\n   rownames morekids gender1 gender2 afam  hispanic other ethnicity    age  work\n      &lt;dbl&gt; &lt;fct&gt;    &lt;fct&gt;   &lt;fct&gt;   &lt;fct&gt; &lt;fct&gt;    &lt;fct&gt; &lt;fct&gt;      &lt;dbl&gt; &lt;dbl&gt;\n 1        1 no       male    female  no    no       no    Caucasian     27     0\n 2        2 no       female  male    no    no       no    Caucasian     30    30\n 3        3 no       male    female  no    no       no    Caucasian     27     0\n 4        4 no       male    female  yes   no       no    African-A…    35     0\n 5        5 no       female  female  no    no       no    Caucasian     30    22\n 6        6 no       male    female  no    no       no    Caucasian     26    40\n 7        7 no       female  male    no    no       no    Caucasian     29     0\n 8        8 no       male    male    no    no       no    Caucasian     33    52\n 9        9 no       female  male    no    no       no    Caucasian     29     0\n10       10 no       male    female  no    no       no    Caucasian     27     0\n# ℹ 254,644 more rows"
  },
  {
    "objectID": "posts/A1/A1.html#summaries-examining-the-data",
    "href": "posts/A1/A1.html#summaries-examining-the-data",
    "title": "Fertility Dataset",
    "section": "",
    "text": "Fertility_ethnicity_factor %&gt;%\n  dplyr::count(across(.cols = c (gender1 , gender2)))\n\n# A tibble: 4 × 3\n  gender1 gender2     n\n  &lt;fct&gt;   &lt;fct&gt;   &lt;int&gt;\n1 female  female  60946\n2 female  male    62724\n3 male    female  63185\n4 male    male    67799\n\n\n\nFertility_ethnicity_factor %&gt;% \n  group_by(morekids) %&gt;% \n  summarise(average_age=mean(age),count=n()) %&gt;% tt()\n\n\n\n    \n\n    \n    \n      \n        \n        \n              \n                morekids\n                average_age\n                count\n              \n        \n        \n        \n                \n                  no\n                  30.12810\n                  157742\n                \n                \n                  yes\n                  30.82487\n                  96912\n                \n        \n      \n    \n\n\n\n\ncrosstable(morekids ~ gender2 + gender1,\n  data = Fertility_ethnicity_factor\n) %&gt;%\n  crosstable::as_flextable()\n\ngender1femalemalegender2femalemalefemalemalemorekidsno35057 (22.22%)40987 (25.98%)41304 (26.18%)40394 (25.61%)yes25889 (26.71%)21737 (22.43%)21881 (22.58%)27405 (28.28%)\n\n\n\ncrosstable(ethnicity ~ morekids,\n  data = Fertility_ethnicity_factor\n) %&gt;%\n  crosstable::as_flextable()\n\nlabelvariablemorekidsnoyesethnicityAfrican-American7131 (54.20%)6025 (45.80%)Caucasian137344 (63.58%)78689 (36.42%)Hispanic9084 (48.57%)9617 (51.43%)Other4183 (61.84%)2581 (38.16%)\n\n\n\nFertility_ethnicity_factor %&gt;% \n  group_by(morekids) %&gt;% \n  summarize(average_workhours = mean(work)) %&gt;% tt()\n\n\n\n    \n\n    \n    \n      \n        \n        \n              \n                morekids\n                average_workhours\n              \n        \n        \n        \n                \n                  no\n                  21.06843\n                \n                \n                  yes\n                  15.68143"
  },
  {
    "objectID": "posts/A1/A1.html#visualizing-the-data",
    "href": "posts/A1/A1.html#visualizing-the-data",
    "title": "Fertility Dataset",
    "section": "",
    "text": "Hypothesis: Families with two daughters (female.female) could have more children.\n\n\n\n\nFertility_ethnicity_factor %&gt;%\n  gf_bar(~interaction(gender1,gender2),\n    fill = ~morekids,\n    position = \"dodge\"\n  ) %&gt;%\n  gf_labs(\n    title = \"Morekids vs Gender Composition\",\n    subtitle = \"How morekids is being effected based on current gender of kids\",\n    x=\"Gender of First Two Children\",\n    y=\"Count\"\n  ) %&gt;%\n  gf_refine(scale_fill_brewer(palette = \"Set1\"))\n\n\n\n\n\n\n\n\n\n\n\n\nFertility_ethnicity_factor %&gt;%\n  gf_bar(~interaction(gender1,gender2),\n    fill = ~morekids,\n    position = \"fill\"\n  ) %&gt;%\n  gf_labs(\n    title = \"Morekids vs Gender Composition\",\n    subtitle = \"How morekids is being effected based on current gender of kids\",\n    x=\"Gender of First Two Children\",\n    y=\"Count\"\n  ) %&gt;%\n  gf_refine(scale_fill_brewer(palette = \"Set1\"))\n\n\n\n\n\n\n\n\n\nInferences\n\nFamilies with two girls are most likely to have more children.\nFamilies with one boy and one girl are least likely to continue growing their family.\nFamilies with two boys also show a high chance of having more kids.\n\n\n\n\n\n\n\nHypothesis: Women who worked less number of weeks would have more kids.\n\n\n\n\ngf_histogram(~work,\n  data = Fertility_ethnicity_factor,\n  bins = 30,                \n  fill = ~morekids,         \n  position = \"dodge\"        \n) %&gt;%\n  gf_labs(\n    title = \"Distribution of Work Weeks by More Kids\",\n    subtitle = \"Number of Work Weeks in 1979 for Mothers with or without more kids\",\n    x = \"Work weeks in 1979\",\n    y = \"Count\",\n  ) %&gt;% \n  gf_refine(scale_fill_brewer(palette = \"Set1\"))\n\n\n\n\n\n\n\n\n\n\n\n\nFertility_ethnicity_factor %&gt;% \n  count(morekids, work) %&gt;% \n  gf_line(n ~ work, color = ~morekids, linewidth = 0.8) %&gt;%\n  gf_labs(\n    title = \"Distribution of Work Weeks by More Kids\",\n    subtitle = \"Number of Work Weeks in 1979 for Mothers with or without more kids\",\n    x = \"Work weeks in 1979\",\n    y = \"Count\"\n  ) %&gt;% \n  gf_refine(scale_fill_brewer(palette = \"Set1\"))\n\n\n\n\n\n\n\n\n\n\n\n\nFertility_ethnicity_factor %&gt;% \n  gf_boxplot(morekids ~ work, orientation = \"y\", fill=~morekids, color = \"black\") %&gt;%\n  gf_labs(y = \"More kids\", \n          x = \"Work weeks in 1979\", \n          title = \"Distribution of Work Weeks by More Kids\",\n          subtitle = \"Number of Work Weeks in 1979 for Mothers with or without more kids\")\n\n\n\n\n\n\n\n\n\nInferences\n\nMost individuals either worked a full year (52 weeks) or did not work at all (0 weeks)\nNot working mothers dominates - The largest group is those who worked 0 weeks.\nWorking full year (52 weeks) is the second largest group.\nMothers who worked between 2-50 weeks is a minority.\nThe difference between “more kids” and “no kids”:\n\nPeople with no kids lean more towards full-time work.\nPeople with kids lean more towards not working at all or working fewer weeks.\n\n\n\nOverall insight: The “no more kids” category is the largest overall especially among non working mothers. This shows most people in 1979 had only 2 kids.\n\n\n\n\n\nHypothesis: Older women would have more kids.\n\n\n\n\nFertility_ethnicity_factor %&gt;%\n  gf_density(~age, color = ~morekids, fill = ~morekids) %&gt;%\n  gf_labs(\n    title = \"Distribution of Age by More Kids\",\n    subtitle = \"Ages of Mothers with or without more kids\",\n    x = \"Age of Mothers\",\n    y = \"Density\",\n    color = \"More Kids\",\n    fill = \"More Kids\"\n  )\n\n\n\n\n\n\n\n\n\nFertility_ethnicity_factor %&gt;% \n  gf_boxplot(morekids ~ age, orientation = \"y\", fill=~morekids, color = \"black\") %&gt;%\n  gf_labs(y = \"Morekids\", x = \"Age of Mothers\", \n          title = \"Distribution of Age by More Kids\",\n          subtitle = \"Ages of Mothers with or without more kids\")\n\n\n\n\n\n\n\n\n\nInferences\n\nThe possibility of having more kids increases with age as seen as in the density distribution graph.\nThe age of people who have more kids (median 31) is only slightly higher than the age of people who do not have more kids (median 30)\nThe group that responded “no” (they do not want more kids) has a slightly wider Interquartile Range.\n\n50% of mothers in the “no” category are more spread out in age from 28 to 32 years\n50% of people in the “yes” group are more clustered in age from 30 to 32 years\n\nOutliers: A few mothers who have more kids are younger than others (around age 22-23).\n\n\n\n\n\n\n\n\n\nFertility_ethnicity_factor %&gt;%\n  count(ethnicity, morekids) %&gt;%  \n  gf_col(n ~ ethnicity, fill = ~morekids, position = \"dodge\") %&gt;%  \n  gf_labs(\n    title = \"Ethnic Group Distribution by More Kids\",\n    subtitle = \"Count of Respondents who have More Children \",\n    x = \"Ethnic Group\",\n    y = \"Number of People\",\n    fill = \"More Kids\"\n  ) %&gt;%\n  gf_refine(scale_fill_brewer(palette = \"Set2\"))\n\n\n\n\n\n\n\n\n\n\n\n\nFertility_ethnicity_factor %&gt;%\n  count(ethnicity, morekids) %&gt;%  \n  gf_col(n ~ ethnicity, fill = ~morekids, position = \"fill\") %&gt;%  \n  gf_labs(\n    title = \"Ethnic Group Distribution by More Kids\",\n    subtitle = \"Count of Respondents who have More Children \",\n    x = \"Ethnic Group\",\n    y = \"Number of People\",\n    fill = \"More Kids\"\n  ) %&gt;%\n  gf_refine(scale_fill_brewer(palette = \"Set2\"))\n\n\n\n\n\n\n\n\n\nInferences\n\nThe Caucasian group is much larger than all other ethnic groups in the survey, as seen in the first graph.\nAfrican-Americans and Hispanics have the highest proportion of respondents who have more kids.\nThe Caucasian group and the Other group have a lower proportion of having more kids."
  }
]